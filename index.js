const _0xd4a582=_0x519e;(function(_0x3a9831,_0x150b63){const _0x7167f=_0x519e,_0x3287f6=_0x3a9831();while(!![]){try{const _0x562cd0=parseInt(_0x7167f(0x156))/0x1*(parseInt(_0x7167f(0x187))/0x2)+-parseInt(_0x7167f(0x15e))/0x3+-parseInt(_0x7167f(0x1c4))/0x4*(parseInt(_0x7167f(0x165))/0x5)+-parseInt(_0x7167f(0x185))/0x6+-parseInt(_0x7167f(0x18c))/0x7+-parseInt(_0x7167f(0x1ee))/0x8+parseInt(_0x7167f(0x14e))/0x9;if(_0x562cd0===_0x150b63)break;else _0x3287f6['push'](_0x3287f6['shift']());}catch(_0x35c90a){_0x3287f6['push'](_0x3287f6['shift']());}}}(_0x1b6f,0x32259));const express=require(_0xd4a582(0x160)),app=express(),axios=require(_0xd4a582(0x1d3)),os=require('os'),fs=require('fs'),path=require(_0xd4a582(0x193)),{promisify}=require('util'),exec=promisify(require('child_process')['exec']),{execSync}=require(_0xd4a582(0x1df)),UPLOAD_URL=process['env'][_0xd4a582(0x1c3)]||'',PROJECT_URL=process[_0xd4a582(0x18e)][_0xd4a582(0x1e3)]||'',AUTO_ACCESS=process['env'][_0xd4a582(0x1c6)]||![],FILE_PATH=process[_0xd4a582(0x18e)]['FILE_PATH']||_0xd4a582(0x1ad),SUB_PATH=process[_0xd4a582(0x18e)][_0xd4a582(0x1a8)]||_0xd4a582(0x164),PORT=process[_0xd4a582(0x18e)][_0xd4a582(0x188)]||process[_0xd4a582(0x18e)]['PORT']||0xbb8,UUID=process[_0xd4a582(0x18e)][_0xd4a582(0x1cf)]||_0xd4a582(0x162),NEZHA_SERVER=process['env'][_0xd4a582(0x166)]||'',NEZHA_PORT=process[_0xd4a582(0x18e)][_0xd4a582(0x150)]||'',NEZHA_KEY=process[_0xd4a582(0x18e)][_0xd4a582(0x196)]||'',ARGO_DOMAIN=process[_0xd4a582(0x18e)]['ARGO_DOMAIN']||_0xd4a582(0x175),ARGO_AUTH=process[_0xd4a582(0x18e)][_0xd4a582(0x181)]||_0xd4a582(0x1bf),ARGO_PORT=process[_0xd4a582(0x18e)][_0xd4a582(0x16b)]||0x1f41,CFIP=process[_0xd4a582(0x18e)]['CFIP']||'cdns.doon.eu.org',CFPORT=process[_0xd4a582(0x18e)]['CFPORT']||0x1bb,NAME=process[_0xd4a582(0x18e)]['NAME']||_0xd4a582(0x1d1);!fs[_0xd4a582(0x1d9)](FILE_PATH)?(fs[_0xd4a582(0x16a)](FILE_PATH),console[_0xd4a582(0x1b4)](FILE_PATH+_0xd4a582(0x1a7))):console[_0xd4a582(0x1b4)](FILE_PATH+_0xd4a582(0x1e5));function generateRandomName(){const _0x4fc428=_0xd4a582,_0x59b3b2=_0x4fc428(0x1f1);let _0x58966c='';for(let _0xa7a813=0x0;_0xa7a813<0x6;_0xa7a813++){_0x58966c+=_0x59b3b2['charAt'](Math[_0x4fc428(0x19a)](Math[_0x4fc428(0x186)]()*_0x59b3b2['length']));}return _0x58966c;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xd4a582(0x1bb)](FILE_PATH,npmName),phpPath=path[_0xd4a582(0x1bb)](FILE_PATH,phpName),webPath=path[_0xd4a582(0x1bb)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0xd4a582(0x1bb)](FILE_PATH,'sub.txt'),listPath=path[_0xd4a582(0x1bb)](FILE_PATH,_0xd4a582(0x17c)),bootLogPath=path[_0xd4a582(0x1bb)](FILE_PATH,_0xd4a582(0x1c8)),configPath=path[_0xd4a582(0x1bb)](FILE_PATH,_0xd4a582(0x1e6));function deleteNodes(){const _0x3ec013=_0xd4a582;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x1d8b81;try{_0x1d8b81=fs[_0x3ec013(0x14d)](subPath,_0x3ec013(0x159));}catch{return null;}const _0x410ce1=Buffer[_0x3ec013(0x13c)](_0x1d8b81,_0x3ec013(0x1ac))[_0x3ec013(0x14a)]('utf-8'),_0x3d830d=_0x410ce1['split']('\x0a')[_0x3ec013(0x19d)](_0x276fb7=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3ec013(0x141)](_0x276fb7));if(_0x3d830d[_0x3ec013(0x172)]===0x0)return;return axios[_0x3ec013(0x1a2)](UPLOAD_URL+_0x3ec013(0x1a4),JSON[_0x3ec013(0x1a3)]({'nodes':_0x3d830d}),{'headers':{'Content-Type':'application/json'}})[_0x3ec013(0x1ec)](_0xabd265=>{return null;}),null;}catch(_0x49c378){return null;}}function cleanupOldFiles(){const _0x153014=_0xd4a582;try{const _0x2bdc4a=fs['readdirSync'](FILE_PATH);_0x2bdc4a[_0x153014(0x1c0)](_0x47fb1e=>{const _0x134225=_0x153014,_0x3cb84e=path[_0x134225(0x1bb)](FILE_PATH,_0x47fb1e);try{const _0x4af1c0=fs[_0x134225(0x1af)](_0x3cb84e);_0x4af1c0[_0x134225(0x1ef)]()&&fs[_0x134225(0x195)](_0x3cb84e);}catch(_0x22f0f7){}});}catch(_0x281be4){}}app[_0xd4a582(0x19e)]('/',function(_0x5682fe,_0xd64a85){const _0x18a18b=_0xd4a582;_0xd64a85[_0x18a18b(0x1c5)](_0x18a18b(0x145));});async function generateConfig(){const _0x5ebe67=_0xd4a582,_0x50d166={'log':{'access':_0x5ebe67(0x18d),'error':_0x5ebe67(0x18d),'loglevel':_0x5ebe67(0x13e)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5ebe67(0x1b5),'settings':{'clients':[{'id':UUID,'flow':_0x5ebe67(0x1f5)}],'decryption':_0x5ebe67(0x13e),'fallbacks':[{'dest':0xbb9},{'path':_0x5ebe67(0x1d8),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x5ebe67(0x167),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x5ebe67(0x1b5),'settings':{'clients':[{'id':UUID}],'decryption':_0x5ebe67(0x13e)},'streamSettings':{'network':_0x5ebe67(0x170),'security':_0x5ebe67(0x13e)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x5ebe67(0x1b5),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5ebe67(0x13e)},'streamSettings':{'network':'ws','security':_0x5ebe67(0x13e),'wsSettings':{'path':_0x5ebe67(0x1d8)}},'sniffing':{'enabled':!![],'destOverride':[_0x5ebe67(0x1a6),'tls','qu
